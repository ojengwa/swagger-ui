{
    "swagger": "2.0",
    "info": {
        "title": "LUC Payments Services API",
        "description": "This API definitions provides a unified interface for querying data related to the LUC Payment platform. API tokens and Secrets will be provided on request after due diligence.",
        "version": "0.0.1"
    },
    "basePath": "/api/v1",
    "schemes": [
        "https"
    ],
    "consumes": [
        "application/json",
        "application/x-www-form-urlencoded"
    ],
    "produces": [
        "application/json",
        "application/jsonp",
        "application/yaml"
    ],
    "tags": [
        {
            "name": "No auth",
            "description": "Operations that do not require any authentication."
        },
        {
            "name": "collections",
            "description": "Returns multiple records."
        },
        {
            "name": "properties",
            "description": "Returns record(s) relating to a particular property or set of properties."
        },
        {
            "name": "requires auth",
            "description": "Authorization required."
        },
        {
            "name": "singleton",
            "description": "Return a record instance for the given type of resource."
        },
        {
            "name": "auth",
            "description": "This endpoint is used to authenticate a client."
        },
        {
            "name": "payments",
            "description": "Returns record(s) relating to a particular payment or set of payments."
        },
        {
            "name": "tokens",
            "description": "This endpoint will return valid authentication `tokens` and `secret` to the client."
        }
    ],
    "definitions": {
        "property": {
            "type": "object",
            "required": [
                "property_idn"
            ],
            "properties": {
                "property_idn": {
                    "type": "string",
                    "format": "string"
                }
            }
        },
        "payments": {
            "type": "string",
            "properties": {
                "entryid": {
                    "type": "string",
                    "format": "string"
                },
                "amount": {
                    "type": "number",
                    "format": "double"
                },
                "payment_date": {
                    "type": "string",
                    "format": "date-time"
                },
                "payerid": {
                    "type": "string",
                    "format": "string"
                },
                "payername": {
                    "type": "string",
                    "format": "string"
                },
                "assessref": {
                    "type": "string",
                    "format": "string"
                },
                "address": {
                    "type": "string",
                    "format": "string"
                },
                "property_owners": {
                    "type": "string",
                    "format": "string"
                }
            }
        }
    },
    "paths": {
        "/properties/{property_idn}": {
            "post": {
                "operationId": "getProperty",
                "tags": [
                    "properties",
                    "singleton",
                    "requires auth"
                ],
                "description": "Returns the record for a property with the given property identification number (`property_idn`). You can also specify which fields should be returned or filtered out by specifying extra parameters in the request body.",
                "summary": "Return a property with the given `property_idn`.",
                "parameters": [
                    {
                        "name": "property_idn",
                        "in": "path",
                        "description": "The property identification number.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "api_token",
                        "in": "formData",
                        "description": "The API Token for this account.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "api_secret",
                        "in": "formData",
                        "description": "API Secret for this account.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "includes",
                        "in": "formData",
                        "description": "A comma seperated list of attributes to include in the request. Default is `'all,'`",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "excludes",
                        "in": "formData",
                        "description": "A comma seperated list of attributes to exclude in the response. Default is `''`",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A json object containing the records for the property with the specified `pid` (Property Identification).",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/property"
                            }
                        },
                        "headers": {
                            "Authorization: ApiKey": {
                                "type": "string",
                                "description": "A concatenated string containing the API Token and Secret"
                            }
                        },
                        "examples": {
                            "flat_no": "",
                            "house_name": "",
                            "house_no": "5",
                            "street_name": "OLATUJA STREET",
                            "district_name": "ADALOKO",
                            "local_government_id": "Ojo",
                            "postal_code": "OJO4279-58",
                            "payer_id": "N-3173444",
                            "property_idn": "30155772",
                            "resource_uri": "/api/v1/properties/1",
                            "acct_amount_due": 100298,
                            "short_address": "5 OLATUJA STREET, ADALOKO, OJO4279-58, OJO",
                            "property_owners": [
                                {
                                    "owner_name": "MR. AINA IYAPO",
                                    "owner_type": "Individual"
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Form Validation Error"
                    }
                }
            }
        },
        "/payments": {
            "post": {
                "operationId": "PostPayment",
                "tags": [
                    "payments",
                    "singleton",
                    "requires auth"
                ],
                "description": "Submit payment records for a property with the given property identification number (`pid`). A successful reponse will also include the saved payload in the reponse body.",
                "summary": "Submit payment data for a property.",
                "parameters": [
                    {
                        "name": "api_token",
                        "in": "formData",
                        "description": "The API Token for this account.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "api_secret",
                        "in": "formData",
                        "description": "API Secret for this account.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "entryid",
                        "in": "formData",
                        "description": "Your unique transaction reference code for this payment.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "amount",
                        "in": "formData",
                        "description": "The amount paid.",
                        "required": true,
                        "type": "number"
                    },
                    {
                        "name": "payment_date",
                        "in": "formData",
                        "description": "The date and time the payment was made. Format: `YYYY-MM-DD HH:MM:SS` e.g `2016-01-24 15:03:01`.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "payerid",
                        "in": "formData",
                        "description": "The PayerID of the account that made the payment - available in the bill information.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "payername",
                        "in": "formData",
                        "description": "Name of the account that made the payment.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "assessref",
                        "in": "formData",
                        "description": "Assess Reference for this account. Same as the Property IDN",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "phone",
                        "in": "formData",
                        "description": "Phone number of the account that made the payment - in ternational format (eg: `2341234567890`.",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "email",
                        "in": "formData",
                        "description": "The email address of the account that made the payment.",
                        "required": false,
                        "type": "string"
                    },
                    {
                        "name": "address",
                        "in": "formData",
                        "description": "Physical address of the property for which is payment is being made.",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A json object containing the latest saved payment record for the property with the specified `pid` (Property Identification).",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/payments"
                            }
                        },
                        "examples": {
                                "entryid":"'360356'",
                                "amount":" '2492024.06'",
                                "payment_date":" '2001-09-20 00:00:00'",
                                "payerid":" 'C-1478'",
                                "payername":" 'ZENITH BANK PLC'",
                                "assessref":" ''",
                                "address":" ''",
                                "property_owners": [
                                    {
                                        "owner_name": "ZENITH BANK PLC",
                                        "owner_type": "Organisation"
                                    }
                                ]
                        },
                        "headers": {
                            "Authorization: ApiKey": {
                                "type": "string",
                                "description": "A concatenated string containing the API Token and Secret"
                            }
                        }
                    },
                    "400": {
                        "description": "Form Validation Error"
                    }
                }
            }
        }
    }
}